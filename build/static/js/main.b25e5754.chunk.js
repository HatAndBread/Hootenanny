(this["webpackJsonpnoise-rooms"]=this["webpackJsonpnoise-rooms"]||[]).push([[0],{125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(6),i=n.n(s),o=n(69),c=n.n(o),r=(n(77),n(9)),l=(n(78),n(12)),u=n(13);n(42);function d(e){var t=e.sessionPin,n=(e.sessionId,e.userName),i=Object(s.useContext)(zt).dropDownOut,o=Object(s.useContext)(zt).setDropDownOut,c=Object(s.useRef)();Object(s.useEffect)((function(){i&&(c.current.style.top="0px")}),[i]);return Object(a.jsx)("div",{ref:c,className:"dropdown-menu",onClick:function(){c.current.style.top="-100vh",o(!1)},children:Object(a.jsxs)("ul",{children:[Object(a.jsxs)("li",{children:["Session pin: ",t||"Not joined"]}),Object(a.jsxs)("li",{children:["Username: ",n||"None"]})]})})}n(79);var m=n(48),b=n(39);function j(){var e=Object(s.useContext)(zt).sessionPin;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"home-container",children:[Object(a.jsx)("h1",{children:"HOOTENANNY"}),Object(a.jsxs)("div",{className:"home-button-container",children:[Object(a.jsx)(l.b,{to:"/host",className:"home-btn",children:"Host a room"}),Object(a.jsx)(l.b,{to:"/join",className:"home-btn",children:"Join a room"}),Object(a.jsx)(l.b,{to:"/instrument/keyboard",className:"home-btn",children:e?"Instrument":"Play solo"})]})]}),Object(a.jsxs)("div",{className:"home-content",children:[Object(a.jsx)("p",{children:"Hootenanny lets you improvise music with your friends live online. Here's how it works:"}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:'\u2b50\ufe0fStep 1: Click on "Host a room" to generate a pin number \ud83c\udfb0'}),Object(a.jsx)("li",{children:"\u2b50\ufe0fStep 2: Send the pin number to your friends \ud83d\udc83\ud83d\udd7a"}),Object(a.jsx)("li",{children:"\u2b50\ufe0fStep 3:Choose an instrument and start playing \u2728"})]})]}),Object(a.jsxs)("footer",{children:[Object(a.jsxs)("div",{className:"link-icons",children:[Object(a.jsx)("a",{href:"https://www.facebook.com/",children:Object(a.jsx)(m.a,{icon:b.a})}),Object(a.jsx)("a",{href:"https://github.com/HatAndBread",children:Object(a.jsx)(m.a,{icon:b.b})})]}),"Enjoy Hootenanny? Buy me a ",Object(a.jsx)("a",{href:"https://github.com/HatAndBread",children:"beer \ud83c\udf7a"})," or",Object(a.jsx)("a",{href:"https://github.com/HatAndBread",children:" give me a job."})]})]})}function p(){return Object(a.jsx)("div",{children:Object(a.jsx)("div",{children:"This is the about page!"})})}n(32);function v(e){var t=e.forInstrument,n=Object(u.f)().pathname,s="".concat(t[0].toUpperCase()).concat(t.substring(1,t.length));return Object(a.jsxs)("div",{children:[n==="/instrument/".concat(t)&&Object(a.jsx)("div",{className:"settings-link-container",children:Object(a.jsxs)("div",{className:"link-container",children:[Object(a.jsx)("div",{children:Object(a.jsxs)(l.b,{to:"/instrument/".concat(t,"/settings"),className:"settings-link",children:["\ud83c\udf9a",Object(a.jsxs)("label",{style:{fontSize:"11px"},children:[s," Settings"]})]})}),Object(a.jsx)("div",{children:Object(a.jsxs)(l.b,{to:"/instrument/".concat(t,"/effects"),className:"settings-link",children:["\ud83c\udf9b",Object(a.jsxs)("label",{style:{fontSize:"11px"},children:[s," Effects"]})]})})]})}),n==="/instrument/".concat(t,"/settings")&&Object(a.jsxs)("div",{className:"link-container",children:[Object(a.jsx)("div",{children:Object(a.jsxs)(l.b,{to:"/instrument/".concat(t),className:"settings-link",children:["\ud83c\udf9a",Object(a.jsxs)("label",{style:{fontSize:"11px"},children:[s," Settings"]})]})}),Object(a.jsx)("div",{children:Object(a.jsxs)(l.b,{to:"/instrument/".concat(t,"/effects"),className:"settings-link",children:["\ud83c\udf9b",Object(a.jsxs)("label",{style:{fontSize:"11px"},children:[s," Effects"]})]})})]}),n==="/instrument/".concat(t,"/effects")&&Object(a.jsxs)("div",{className:"link-container",children:[Object(a.jsx)("div",{children:Object(a.jsxs)(l.b,{to:"/instrument/".concat(t,"/settings"),className:"settings-link",children:["\ud83c\udf9a",Object(a.jsxs)("label",{style:{fontSize:"11px"},children:[s," Settings"]})]})}),Object(a.jsx)("div",{children:Object(a.jsxs)(l.b,{to:"/instrument/".concat(t),className:"settings-link",children:["\ud83c\udf9b",Object(a.jsxs)("label",{style:{fontSize:"11px"},children:[s," Effects"]})]})})]})]})}var h=n(1),f=n(2),O=n(4),x=n(3),g=n(10),y={attack:.1,decay:.2,sustain:.5,release:.8};var k=function(){function e(){Object(h.a)(this,e),this.gain=new g.h(.2).toDestination(),this.comp=new g.c(-30,10).connect(this.gain),this.delay=new g.f(0,1).connect(this.comp),this.pulverizer=new g.b(1).connect(this.delay),this.distortion=new g.e(0).connect(this.pulverizer),this.pitchShifter=new g.l(0).connect(this.distortion),this.vibrato=new g.o(3,1).connect(this.pitchShifter),this.setEffects({vibrato:{wet:{level:.5,min:0,max:1,step:.05},depth:{level:.3,min:0,max:1,step:.05},freq:{level:8,min:0,max:20,step:.05},on:!1},pulverizer:{level:{level:1,min:1,max:16,step:1},on:!1},distortion:{wet:{level:.5,min:0,max:1,step:.05},level:{level:1,min:.05,max:3,step:.05},on:!1},delay:{wet:{level:.5,min:0,max:1,step:.05},time:{level:.2,min:0,max:1,step:.05},feedback:{level:.15,min:0,max:1,step:.05},on:!1},pitchShifter:{wet:{level:.5,min:0,max:1,step:.05},shift:{level:0,min:-36,max:36,step:1},on:!1}})}return Object(f.a)(e,[{key:"setEffects",value:function(e){var t=this;Object.keys(e).forEach((function(n){switch(e[n].wet?e[n].on?t[n].wet.value=e[n].wet.level:t[n].wet.value=0:e[n].on?t[n].wet.value=1:t[n].wet.value=0,n){case"pulverizer":t.pulverizer.bits.setValueAtTime(e.pulverizer.level.level,g.q());break;case"delay":t.delay.feedback.value=e.delay.feedback.level,t.delay.delayTime.value=e.delay.time.level;break;case"distortion":t.distortion.distortion=e.distortion.level.level;break;case"pitchShifter":t.pitchShifter.pitch=e.pitchShifter.shift.level;break;case"vibrato":t.vibrato.depth.value=e.vibrato.depth.level,t.vibrato.frequency.value=e.vibrato.freq.level;break;default:return}}))}}]),e}(),w=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).envelope=new g.a(y).connect(e.vibrato),e.oscillator=(new g.k).connect(e.envelope).start(),e.rampTo=0,e.playing=!1,e}return Object(f.a)(n,[{key:"play",value:function(){this.playing=!0,this.envelope.triggerAttack(g.q())}},{key:"stop",value:function(){this.playing=!1,this.envelope.triggerRelease(g.q())}}]),n}(k),S=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).envelopeOne=new g.a(y).connect(e.vibrato),e.envelopeTwo=new g.a(y).connect(e.vibrato),e.envelopeThree=new g.a(y).connect(e.vibrato),e.droneOne=(new g.k).connect(e.envelopeOne).start(),e.droneTwo=(new g.k).connect(e.envelopeTwo).start(),e.droneThree=(new g.k).connect(e.envelopeThree).start(),e.rampTo=0,e}return Object(f.a)(n,[{key:"play",value:function(e){var t=this["drone".concat(e)];t.playing||(t.playing=!0,this["envelope".concat(e)].triggerAttack(g.q()))}},{key:"stop",value:function(e){var t=this["drone".concat(e)];t.playing&&(t.playing=!1,console.log("turned it off",t.playing),this["envelope".concat(e)].triggerRelease(g.q()))}}]),n}(k),C=n.p+"static/media/snare.af827f95.mp3",N=n.p+"static/media/kick.eda0cd7d.mp3",D=n.p+"static/media/ride.e7d62cef.mp3",E=n.p+"static/media/hat.f19fe675.mp3",T=n.p+"static/media/tom.8b0eff21.mp3",F=n.p+"static/media/bowl.9573baa5.mp3",I=n.p+"static/media/bugara1.ec45a24a.mp3",R=n.p+"static/media/bugara2.1c293c67.mp3",P=n.p+"static/media/ceng.4653eee0.mp3",q=n.p+"static/media/demung1.251de471.mp3",A=n.p+"static/media/demung2.abadb721.mp3",J=n.p+"static/media/demung3.c721fa5b.mp3",L=n.p+"static/media/djembe1.c8e91ba9.mp3",z=n.p+"static/media/djembe2.af36e9b0.mp3",B=n.p+"static/media/djembe3.923e19df.mp3",M=n.p+"static/media/jegog.0b5a8ae3.mp3",H=n.p+"static/media/kantilan.ae46f822.mp3",V=n.p+"static/media/kempur.f0f14d45.mp3",G=n.p+"static/media/rebana.14364c0f.mp3",U=n.p+"static/media/ruler.aef63be4.mp3",K=n.p+"static/media/spring.9d884628.mp3",W=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).snare=new g.m(C).connect(e.vibrato),e.kick=new g.m(N).connect(e.vibrato),e.ride=new g.m(D).connect(e.vibrato),e.hat=new g.m(E).connect(e.vibrato),e.tom=new g.m(T).connect(e.vibrato),e.bowl=new g.m(F).connect(e.vibrato),e.bugara1=new g.m(I).connect(e.vibrato),e.bugara2=new g.m(R).connect(e.vibrato),e.ceng=new g.m(P).connect(e.vibrato),e.demung1=new g.m(q).connect(e.vibrato),e.demung2=new g.m(A).connect(e.vibrato),e.demung3=new g.m(J).connect(e.vibrato),e.djembe1=new g.m(L).connect(e.vibrato),e.djembe2=new g.m(z).connect(e.vibrato),e.djembe3=new g.m(B).connect(e.vibrato),e.jegog=new g.m(M).connect(e.vibrato),e.kantilan=new g.m(H).connect(e.vibrato),e.kempur=new g.m(V).connect(e.vibrato),e.rebana=new g.m(G).connect(e.vibrato),e.spring=new g.m(K).connect(e.vibrato),e.ruler=new g.m(U).connect(e.vibrato),e.loop=new g.i((function(e){}),"16n").start(0),e.beat=0,e.drumsNums=["one","two","three","four","five","six"],e}return Object(f.a)(n,[{key:"play",value:function(e,t){this[e].playbackRate=t,this[e].start()}},{key:"playbackRateHasChanged",value:function(e){for(var t=0;t<this.drumsNums.length;t++)if(this[e.loop[this.drumsNums[t]].drum.drum].playbackRate!==e.loop[this.drumsNums[t]].drum.sampleRate)return!0;return!1}},{key:"updateBpmAndTimeSignature",value:function(e){g.n.bpm.value!==parseInt(e.bpm,10)&&(g.n.bpm.value=parseInt(e.bpm,10)),g.n.timeSignature!==parseInt(e.timeSignature,10)&&(g.n.timeSignature=parseInt(e.timeSignature,10))}},{key:"setLoop",value:function(e){var t=this;if(this.updateBpmAndTimeSignature(e),this.playbackRateHasChanged(e)&&this.drumsNums.forEach((function(n){t[e.loop[n].drum.drum].playbackRate=e.loop[n].drum.sampleRate})),Y(e.loop))g.n.stop(),this.beat=0;else{this.loop.callback=function(n){t.drumsNums.forEach((function(a){e.loop[a].times[t.beat]&&(t[e.loop[a].drum.drum].playbackRate=e.loop[a].drum.sampleRate,t[e.loop[a].drum.drum].start(n))})),t.beat+=1,t.beat>=4*g.n.timeSignature&&(t.beat=0)},"stopped"===g.n.state&&g.n.start()}}}]),n}(k),Y=function(e){for(var t=0;t<Object.entries(e).length;t++)if(Object.entries(e)[t][1].times.includes(1))return!1;return!0},X=W,Q=n.p+"static/media/amradionoise.050661d4.mp3",Z=n.p+"static/media/analoguewhitenoise.7b9e3354.mp3",$=n.p+"static/media/digitalnoise.13bf2ce1.mp3",_=n.p+"static/media/feedback.2d6794ba.mp3",ee=n.p+"static/media/guitarfeedback.85a16f4a.mp3",te=n.p+"static/media/guitarnoise1.c8696756.mp3",ne=n.p+"static/media/guitarnoise2.4568c6af.mp3",ae=n.p+"static/media/guitarnoise3.acf451d7.mp3",se=n.p+"static/media/guitarnoise4.e744d313.mp3",ie=n.p+"static/media/heavystatic.51911ee8.mp3",oe=n.p+"static/media/micfeedback.b0bb8432.mp3",ce=n.p+"static/media/radioBuzz.9070eb0d.mp3",re=n.p+"static/media/recordPlayerGlitch.4ff862d2.mp3",le=n.p+"static/media/saxSqueek.5fe25053.mp3",ue=n.p+"static/media/trumpethiss.9422ccc1.mp3",de=n.p+"static/media/saxSkronk.7fa1a37f.mp3",me=n.p+"static/media/saxSkronk2.57b804e5.mp3",be=n.p+"static/media/saxSkronk3.589b343f.mp3",je=n.p+"static/media/saxSkronk4.502fd984.mp3",pe=n.p+"static/media/saxSkronk5.0ab0c2c2.mp3",ve=n.p+"static/media/saxSkronk6.2a2de3de.mp3",he=n.p+"static/media/saxSkronk7.72cd0311.mp3",fe=n.p+"static/media/saxSkronk8.3fc6d8e3.mp3",Oe=n.p+"static/media/saxSkronk9.12c7e2d0.mp3",xe=n.p+"static/media/saxSkronk10.dfbd67a7.mp3",ge=n.p+"static/media/saxSkronk11.f8e9bed7.mp3",ye=n.p+"static/media/saxSkronk12.39c52f7d.mp3",ke=n.p+"static/media/saxSkronk13.f3bb511f.mp3",we=n.p+"static/media/saxSkronk14.bece53e7.mp3";var Se=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).amRadioNoise=new g.m(Q).connect(e.vibrato),e.analogueWhiteNoise=new g.m(Z).connect(e.vibrato),e.digitalNoise=new g.m($).connect(e.vibrato),e.feedback=new g.m(_).connect(e.vibrato),e.guitarFeedback=new g.m(ee).connect(e.vibrato),e.guitarNoise1=new g.m(te).connect(e.vibrato),e.guitarNoise2=new g.m(ne).connect(e.vibrato),e.guitarNoise3=new g.m(ae).connect(e.vibrato),e.guitarNoise4=new g.m(se).connect(e.vibrato),e.heavyStatic=new g.m(ie).connect(e.vibrato),e.micFeedback=new g.m(oe).connect(e.vibrato),e.radioBuzz=new g.m(ce).connect(e.vibrato),e.recordPlayerGlitch=new g.m(re).connect(e.vibrato),e.saxSqueek=new g.m(le).connect(e.vibrato),e.trumpetHiss=new g.m(ue).connect(e.vibrato),e.saxSkronk=new g.m(de).connect(e.vibrato),e.saxSkronk2=new g.m(me).connect(e.vibrato),e.saxSkronk3=new g.m(be).connect(e.vibrato),e.saxSkronk4=new g.m(je).connect(e.vibrato),e.saxSkronk5=new g.m(pe).connect(e.vibrato),e.saxSkronk6=new g.m(ve).connect(e.vibrato),e.saxSkronk7=new g.m(he).connect(e.vibrato),e.saxSkronk8=new g.m(fe).connect(e.vibrato),e.saxSkronk9=new g.m(Oe).connect(e.vibrato),e.saxSkronk10=new g.m(xe).connect(e.vibrato),e.saxSkronk11=new g.m(ge).connect(e.vibrato),e.saxSkronk12=new g.m(ye).connect(e.vibrato),e.saxSkronk13=new g.m(ke).connect(e.vibrato),e.saxSkronk14=new g.m(we).connect(e.vibrato),e.pink=new g.j("pink").connect(e.vibrato),e.white=new g.j("white").connect(e.vibrato),e.brown=new g.j("brown").connect(e.vibrato),e.oscillatorGain=new g.h(.3).connect(e.vibrato),e.oscillatorPulverizer=new g.b(1).connect(e.oscillatorGain),e.sine=(new g.a).connect(e.oscillatorPulverizer),e.oscillator=(new g.k).connect(e.sine).start(),e.oscillator2=(new g.k).connect(e.sine).start(),e.oscillator3=(new g.k).connect(e.sine).start(),e.oscillator4=(new g.k).connect(e.sine).start(),e.nowPlaying=null,e.animationFrame=!1,e.types={ambientNoise:["amRadioNoise","analogueWhiteNoise","digitalNoise","heavyStatic","radioBuzz","recordPlayerGlitch","pink","brown","white","trumpetHiss"],feedback:["feedback","guitarFeedback","guitarNoise1","guitarNoise2","guitarNoise3","guitarNoise4","micFeedback"],skronk:["saxSqueek","saxSkronk","saxSkronk2","saxSkronk3","saxSkronk4","saxSkronk5","saxSkronk6","saxSkronk7"],oscillators:["sine"]},e.initialize(),e}return Object(f.a)(n,[{key:"getRandomSound",value:function(e){}},{key:"initialize",value:function(){var e=this;Object.keys(this).forEach((function(t){e[t]instanceof g.m&&(e[t].loop=!0),e[t]instanceof g.k&&(e[t].volume.value=-3)}))}},{key:"start",value:function(e){var t=this,n=function(e){switch(e){case"Ambient Noise":return"ambientNoise";case"Skronk":return"skronk";case"Feedback":return"feedback";case"Oscillators":return"oscillators";default:console.log("huh?")}}(e.which),a=Math.floor(Math.random()*this.types[n].length);if(this.nowPlaying=this.types[n][a],this[this.nowPlaying].start)this[this.nowPlaying].start(0,Math.floor(10*Math.random()));else{this[this.nowPlaying].triggerAttack(g.q());this.animationFrame=!0,function e(){var n,a=Math.floor(5*Math.random()),s=t.oscillator4.frequency.value-100;n=Math.floor(2*Math.random())&&s>0?-10*Math.random():10*Math.random(),a||(t.oscillator4.frequency.value+=n),t.animationFrame&&window.requestAnimationFrame(e)}()}}},{key:"stop",value:function(){this[this.nowPlaying]&&(this[this.nowPlaying].stop?this[this.nowPlaying].stop(0):this[this.nowPlaying].triggerRelease(g.q()),this.nowPlaying=null,this.animationFrame=!1)}},{key:"play",value:function(e){e.x<=.001&&(e.x=.00101),e.y<=.001&&(e.y=.00101),this[this.nowPlaying]&&this[this.nowPlaying].playbackRate?this[this.nowPlaying].playbackRate=.005*e.x:(this.oscillator.frequency.value=10*e.x,this.oscillator2.frequency.value=5*e.y+10*Math.random(),this.oscillator3.frequency.value=e.y/2*e.x/2,this.oscillator4.frequency.value=Math.random()*e.x)}}]),n}(k),Ce=new(function(){function e(){Object(h.a)(this,e),this.keyboard=new w,this.drone=new S,this.percussion=new X,this.noise=new Se}return Object(f.a)(e,[{key:"setEffects",value:function(e,t){var n=this;this[e]&&Object.keys(t).forEach((function(e){n[e]&&n[e].setEffects(t[e])}))}},{key:"setSettings",value:function(e,t){var n=this[e];n&&(t.envelope&&(n.envelope&&(n.envelope.attack=t.envelope.attack,n.envelope.decay=t.envelope.decay,n.envelope.sustain=t.envelope.sustain,n.envelope.release=t.envelope.release),n.envelopeOne&&(n.envelopeOne.attack=t.envelope.attack,n.envelopeOne.decay=t.envelope.decay,n.envelopeOne.sustain=t.envelope.sustain,n.envelopeOne.release=t.envelope.release),n.envelopeTwo&&(n.envelopeTwo.attack=t.envelope.attack,n.envelopeTwo.decay=t.envelope.decay,n.envelopeTwo.sustain=t.envelope.sustain,n.envelopeTwo.release=t.envelope.release),n.envelopeThree&&(n.envelopeThree.attack=t.envelope.attack,n.envelopeThree.decay=t.envelope.decay,n.envelopeThree.sustain=t.envelope.sustain,n.envelopeThree.release=t.envelope.release)),this[e].gain.gain.value=t.volume,"keyboard"===e&&(this[e].rampTo=t.rampTo,this[e].oscillator.type=t.wave))}}]),e}()),Ne=n(71),De=n.n(Ne)()("/");function Ee(e,t,n,a,s){if(void 0===a)throw new Error("missing sessionPin");console.log(a),a&&!s&&De.emit("settingsChange",e,t,n,a),Ce&&Ce.setSettings(n,e),console.log(Ce)}function Te(e){var t=e.instrument,n=Object(s.useContext)(zt).globalInstrumentSettings[t],i=Object(s.useContext)(zt).setGlobalInstrumentSettings,o=Object(s.useContext)(zt).sessionPin,c=Object(s.useContext)(zt).globalInstrumentSettings,r=Object(s.useContext)(zt).socketId,l=function(e){var n=JSON.parse(JSON.stringify(c));n[t].envelope[e.target.name]=e.target.value,i(n),Ee(n[t],r,t,o)};return Object(s.useEffect)((function(){console.log(n)}),[n]),Object(a.jsxs)("div",{className:"envelope",children:[Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("input",{type:"range",name:"attack",onChange:l,defaultValue:n.envelope.attack,min:"0",max:"1",step:"0.01"}),Object(a.jsx)("label",{htmlFor:"attack",children:"Attack"})]}),Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("input",{type:"range",name:"sustain",onChange:l,defaultValue:n.envelope.sustain,min:"0",max:"1",step:"0.01"}),Object(a.jsx)("label",{htmlFor:"sustain",children:"Sustain"})]}),Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("input",{type:"range",name:"decay",onChange:l,defaultValue:n.envelope.decay,min:"0",max:"1",step:"0.1"}),Object(a.jsx)("label",{htmlFor:"decay",children:"Decay"})]}),Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("input",{type:"range",name:"release",onChange:l,defaultValue:n.envelope.release,min:"0",max:"1",step:"0.1"}),Object(a.jsx)("label",{htmlFor:"release",children:"Release"})]})]})}function Fe(e){var t=e.instrument,n=Object(s.useContext)(zt).globalInstrumentSettings,i=Object(s.useContext)(zt).setGlobalInstrumentSettings,o=Object(s.useContext)(zt).sessionPin,c=Object(s.useContext)(zt).socketId;return Object(a.jsxs)("form",{onChange:function(e){var a=JSON.parse(JSON.stringify(n));a[t].wave=e.target.value,i(a),console.log(a),Ee(a[t],c,t,o)},className:"wave-selector",children:[Object(a.jsxs)("div",{children:["sine"===n[t].wave?Object(a.jsx)("input",{type:"radio",id:"sine",name:t,value:"sine",defaultChecked:!0}):Object(a.jsx)("input",{type:"radio",id:"sine",name:t,value:"sine"}),Object(a.jsx)("label",{htmlFor:"sine",children:"Sine"})]}),Object(a.jsxs)("div",{children:["triangle"===n[t].wave?Object(a.jsx)("input",{type:"radio",id:"triangle",name:t,value:"triangle",defaultChecked:!0}):Object(a.jsx)("input",{type:"radio",id:"triangle",name:t,value:"triangle"}),Object(a.jsx)("label",{htmlFor:"triangle",children:"Triangle"})]}),Object(a.jsxs)("div",{children:["sawtooth"===n[t].wave?Object(a.jsx)("input",{type:"radio",id:"sawtooth",name:t,value:"sawtooth",defaultChecked:!0}):Object(a.jsx)("input",{type:"radio",id:"sawtooth",name:t,value:"sawtooth"}),Object(a.jsx)("label",{htmlFor:"sawtooth",children:"Sawtooth"})]}),Object(a.jsxs)("div",{children:["square"===n[t].wave?Object(a.jsx)("input",{type:"radio",id:"square",name:t,value:"square",defaultChecked:!0}):Object(a.jsx)("input",{type:"radio",id:"square",name:t,value:"square"}),Object(a.jsx)("label",{htmlFor:"square",children:"Square"})]})]})}function Ie(e){var t=e.instrument,n=e.setSettingsOpen,i=Object(s.useContext)(zt).setGlobalInstrumentSettings,o=Object(s.useContext)(zt).globalInstrumentSettings,c=Object(s.useContext)(zt).sessionPin,r=Object(s.useContext)(zt).socketId,l=function(e){var n=JSON.parse(JSON.stringify(o));console.log(e.target.name),n[t][e.target.name]=e.target.value,i(n),Ee(n[t],r,t,c)};Object(s.useEffect)((function(){return n(!0),function(){n(!1)}}),[n]);return Object(a.jsxs)("div",{className:"settings-container",children:[Object(a.jsxs)("div",{className:"main-settings-container",children:[Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("input",{type:"range",id:"volume",name:"volume",min:"0",max:"1",step:"0.05",defaultValue:o[t].volume,onChange:l}),Object(a.jsx)("label",{htmlFor:"volume",children:"Volume"})]}),function(){switch(t){case"drone":return Object(a.jsx)(Te,{instrument:t});case"keyboard":return Object(a.jsxs)("div",{children:[Object(a.jsx)(Te,{instrument:t}),Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("input",{type:"range",id:"rampTo",name:"rampTo",min:"0",max:"0.5",step:"0.01",defaultValue:o[t].rampTo,onChange:l}),Object(a.jsx)("label",{htmlFor:"rampTo",children:"Ramp"})]})]});case"noise":return;case"theremin":return Object(a.jsx)(Te,{instrument:t});case"percussion":case"skronk":default:return}}()]}),"keyboard"===t&&Object(a.jsx)(Fe,{instrument:t})]})}function Re(e,t,n,a,s){if(void 0===a)throw new Error("missing sessionPin");a&&!s&&De.emit("effectsChange",e,t,n,a),Ce&&Ce.setEffects(n,e)}n(67);var Pe={backgroundColor:"#9d8df1",color:"snow"},qe={backgroundColor:"gray",color:"snow"};function Ae(e){var t=e.type,n=e.params,i=e.instrument,o=Object(s.useContext)(zt).sessionPin,c=Object(s.useContext)(zt).getGlobalEffects,l=Object(s.useContext)(zt).socketId,u=Object(s.useContext)(zt).globalEffectsSettings[i],d=Object(s.useContext)(zt).setGlobalEffectsSettings,m=Object(s.useState)(u[t].on?Pe:qe),b=Object(r.a)(m,2),j=b[0],p=b[1],v=function(e){var n=c();n[i][t][e.target.dataset.type].level=e.target.value,d(n),Re(n,l,i,o)};return Object(a.jsxs)("div",{className:"individual-effect",children:[Object(a.jsx)("button",{onClick:function(){var e=c();j===qe?(e[i][t].on=!0,d(e),Re(e,l,i,o),p(Pe)):(e[i][t].on=!1,d(e),Re(e,l,i,o),p(qe)),d(e)},style:j,children:t}),Object.entries(n).map((function(e){if("on"!==e[0])return Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{"data-type":e[0],type:"range",defaultValue:e[1].level,min:e[1].min,max:e[1].max,step:e[1].step,onChange:v}),Object(a.jsx)("label",{children:e[0][0].toUpperCase()+e[0].substring(1,e[0].length)+""}),"shift: "===e[0]&&e[1].level]},e[0])}))]})}function Je(e){var t=e.instrument,n=e.setSettingsOpen,i=Object(s.useContext)(zt).globalEffectsSettings[t];return Object(s.useEffect)((function(){return n(!0),function(){n(!1)}}),[n]),Object(a.jsxs)("div",{className:"effects-container",children:[Object(a.jsx)(Ae,{type:"distortion",params:i.distortion,instrument:t}),Object(a.jsx)(Ae,{type:"delay",params:i.delay,instrument:t}),Object(a.jsx)(Ae,{type:"pulverizer",params:i.pulverizer,instrument:t}),Object(a.jsx)(Ae,{type:"vibrato",params:i.vibrato,instrument:t}),Object(a.jsx)(Ae,{type:"pitchShifter",params:i.pitchShifter,instrument:t})]})}n(37);var Le={backgroundColor:"#9d8df1",borderColor:"#9d8df1"},ze={backgroundColor:"black"},Be={backgroundColor:"#9d8df1"},Me={backgroundColor:"ivory"};function He(e){var t=Object(s.useState)(!1),n=Object(r.a)(t,2),i=n[0],o=n[1],c=Object(s.useState)(!1),l=Object(r.a)(c,2),u=l[0],d=l[1],m=Object(s.useContext)(Ye),b=Object(s.useRef)(null),j=Object(s.useRef)(),p=function(e){e.preventDefault()};return Object(s.useEffect)((function(){m.pointerDown||(o(!1),d(!1))}),[m.pointerDown]),Object(s.useEffect)((function(){m.pointerDown&&(j.current&&Ve(j.current.offsetHeight,j.current.offsetWidth,j.current.offsetTop,j.current.offsetLeft,m.touches.x,m.touches.y)?e.blackKey!==m.currentNote.note&&(d(!0),o(!1),m.setCurrentNote({note:e.blackKey.toUpperCase(),octave:e.octave+m.mainOctave})):Ve(b.current.offsetHeight,b.current.offsetWidth,b.current.offsetTop,b.current.offsetLeft,m.touches.x,m.touches.y,e.precededByBlack)?(e.octave+m.mainOctave!==m.currentNote.octave||e.note!==m.currentNote.note)&&(m.setCurrentNote({note:e.note.toUpperCase(),octave:e.octave+m.mainOctave}),o(!0),d(!1)):(o(!1),d(!1)))}),[m,e.note,e.octave,e.blackKey,e.precededByBlack]),Object(a.jsx)("div",{className:"white-key","data-note":e.note,ref:b,onDragStart:p,style:i?Be:Me,children:e.blackKey&&Object(a.jsx)("div",{className:"black-key","data-note":e.blackKey,ref:j,onDragStart:p,style:u?Le:ze})})}var Ve=function(e,t,n,a,s,i,o){return s>a&&s<a+t&&i>n&&i<n+e&&!(o&&s<=a+1+t/4&&i<2+n+.6*e)};function Ge(e){var t=e.windowWidth,n=e.windowHeight,s=e.lastOctave,i=e.octave;return Object(a.jsxs)("div",{className:"keyboard-keys",style:t>n?{width:"".concat(t/2,"px")}:{width:"100%"},onContextMenu:function(e){e.preventDefault()},children:[Object(a.jsx)(He,{note:"C",blackKey:"C#",octave:i}),Object(a.jsx)(He,{note:"D",blackKey:"D#",octave:i,precededByBlack:1}),Object(a.jsx)(He,{note:"E",octave:i,precededByBlack:1}),Object(a.jsx)(He,{note:"F",blackKey:"F#",octave:i}),Object(a.jsx)(He,{note:"G",blackKey:"G#",octave:i,precededByBlack:1}),Object(a.jsx)(He,{note:"A",blackKey:"A#",octave:i,precededByBlack:1}),Object(a.jsx)(He,{note:"B",octave:i,precededByBlack:1}),s&&Object(a.jsx)(He,{note:"C",octave:1===i?2:3})]})}var Ue={backgroundColor:"#9d8df1",borderRadius:"0px"},Ke={backgroundColor:"gray",borderRadius:"0px"};function We(e){for(var t=e.setPointerDown,n=e.setOctave,i=Object(s.useContext)(zt).keyboardInfinity,o=Object(s.useContext)(zt).setKeyboardInfinity,c=Object(s.useState)(i?Ue:Ke),l=Object(r.a)(c,2),u=l[0],d=l[1],m=Object(s.useState)([Ke,Ke,Ue,Ke,Ke,Ke]),b=Object(r.a)(m,2),j=b[0],p=b[1],v=function(e){n(parseInt(e.target.value,10));for(var t=[],a=0;a<j.length;a++)a===parseInt(e.target.value,10)?t.push(Ue):t.push(Ke);p(t)},h=function(){i?(o(!1),t(!1),d(Ke)):(o(!0),d(Ue))},f=[],O=["Very low","Low","Medium","High","Very high","\ud83d\ude49","\ud83d\udea5"],x=0;x<7;x++)f.push(Object(a.jsx)("button",{style:x<6?j[x]:u,value:x,onClick:x<6?v:h,children:O[x]},x));return Object(a.jsx)("div",{className:"octave-setter-container",children:f.map((function(e){return e}))})}var Ye=Object(s.createContext)();function Xe(e){var t=e.setFinalData,n=Object(s.useContext)(zt).keyboardInfinity,i=Object(s.useState)({width:window.innerWidth,height:window.innerHeight}),o=Object(r.a)(i,2),c=o[0],l=o[1],u=Object(s.useState)({x:null,y:null}),d=Object(r.a)(u,2),m=d[0],b=d[1],j=Object(s.useState)(!!n),p=Object(r.a)(j,2),v=p[0],h=p[1],f=Object(s.useState)({note:null,octave:1}),O=Object(r.a)(f,2),x=O[0],g=O[1],y=Object(s.useState)(2),k=Object(r.a)(y,2),w=k[0],S=k[1],C=Object(s.useState)(!1),N=Object(r.a)(C,2),D=N[0],E=N[1];return Object(s.useEffect)((function(){var e=!1;return function t(){!e&&window.requestAnimationFrame(t)}(),function(){e=!0}})),Object(s.useEffect)((function(){window.addEventListener("pointerdown",(function(e){"touch"===e.pointerType?E(!0):E(!1)}))}),[]),Object(s.useEffect)((function(){var e=function(){!n&&h(!1)},t=function(){return l({width:window.innerWidth,height:window.innerHeight})},a=function(e){"white-key"!==e.target.className&&"black-key"!==e.target.className||b({x:e.x,y:e.y})},s=function(e){console.log(D),"white-key"!==e.target.className&&"black-key"!==e.target.className||(!D&&g({note:null,octave:1}),h(!0),b({x:e.x,y:e.y}))},i=function(e){"white-key"!==e.target.className&&"black-key"!==e.target.className||e.preventDefault()};return window.addEventListener("resize",t),window.addEventListener("pointerup",e),window.addEventListener("pointerdown",s),window.addEventListener("pointermove",a),window.addEventListener("click",i),function(){window.removeEventListener("resize",t),window.removeEventListener("pointerup",e),window.removeEventListener("pointerdown",s),window.removeEventListener("pointermove",a),window.removeEventListener("click",i)}}),[n,D]),Object(s.useEffect)((function(){v?t({data:x,type:"play"}):!n&&t({data:"stop",type:"stop"})}),[t,x,v,n]),Object(a.jsxs)(Ye.Provider,{value:{pointerDown:v,setTouches:b,touches:m,setCurrentNote:g,currentNote:x,mainOctave:w},children:[Object(a.jsx)(We,{setPointerDown:h,setOctave:S}),Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)(Ge,{windowWidth:c.width,windowHeight:c.height,lastOctave:!(c.width>c.height),octave:1}),c.width>c.height&&Object(a.jsx)(Ge,{windowWidth:c.width,windowHeight:c.height,lastOctave:!0,octave:2})]})]})}n(38);var Qe=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Ze(e){var t=e.number,n=e.droneData,i=e.setDroneData,o=e.chordChange,c=e.setChordChange,l=Object(s.useState)("C3"),u=Object(r.a)(l,2),d=u[0],m=u[1],b=Object(s.useRef)();return Object(s.useEffect)((function(){b.current.value=function(e){var t;t=e.includes("#")?e.substring(0,2):e[0];var n=e[e.length-1];return Qe.indexOf(t)+12*n}(n[t].pitch),m(n[t].pitch),c(!1)}),[o,c,t,n]),Object(a.jsxs)("div",{className:"pitch-fader",children:[Object(a.jsx)("label",{htmlFor:"range-fader",children:"Pitch: "}),Object(a.jsx)("input",{ref:b,type:"range",name:"range-fader",onChange:function(e){var a="".concat(Qe[e.target.value%12]).concat(Math.floor(e.target.value/12));m(a);var s=JSON.parse(JSON.stringify(n));s[t].pitch=a,i(s)},min:"12",max:"72",defaultValue:"36"}),Object(a.jsx)("label",{className:"pitch-label",htmlFor:"range-fader",children:d})]})}function $e(e){var t=e.number,n=e.droneData,s=e.setDroneData;return Object(a.jsxs)("div",{className:"volume-fader",children:[Object(a.jsx)("label",{htmlFor:"volume-fader",min:"0",max:"100",children:"Vol."}),Object(a.jsx)("input",{type:"range",name:"volume-fader",min:"-12",max:"1",step:"0.05",defaultValue:n[t].volume,onChange:function(e){var a=JSON.parse(JSON.stringify(n));a[t].volume=e.target.value,s(a)}})]})}var _e={backgroundColor:"red",color:"white"},et={backgroundColor:"green",color:"white"};function tt(e){var t=e.number,n=e.droneData,i=e.setDroneData,o=Object(s.useState)(n[t].playing?"Stop":"Start"),c=Object(r.a)(o,2),l=c[0],u=c[1],d=Object(s.useState)(n[t].playing?_e:et),m=Object(r.a)(d,2),b=m[0],j=m[1];return Object(s.useEffect)((function(){u(n[t].playing?"Stop":"Start"),n[t].playing?j(_e):j(et)}),[n,t]),Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:function(){var e=JSON.parse(JSON.stringify(n));"Start"===l?(u("Stop"),e[t].playing=!0):(u("Start"),e[t].playing=!1),i(e)},style:b,children:l})})}function nt(e){var t=e.name,n=e.number,s=e.droneData,i=e.setDroneData;return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onChange:function(e){var t=JSON.parse(JSON.stringify(s));t[n].wave=e.target.value,i(t)},className:"wave-selector",children:[Object(a.jsxs)("div",{children:["sine"===s[n].wave?Object(a.jsx)("input",{type:"radio",id:"sine",name:t,value:"sine",defaultChecked:!0}):Object(a.jsx)("input",{type:"radio",id:"sine",name:t,value:"sine"}),Object(a.jsx)("label",{htmlFor:"sine",children:"Sine"})]}),Object(a.jsxs)("div",{children:["triangle"===s[n].wave?Object(a.jsx)("input",{type:"radio",id:"triangle",name:t,value:"triangle",defaultChecked:!0}):Object(a.jsx)("input",{type:"radio",id:"triangle",name:t,value:"triangle"}),Object(a.jsx)("label",{htmlFor:"triangle",children:"Triangle"})]}),Object(a.jsxs)("div",{children:["sawtooth"===s[n].wave?Object(a.jsx)("input",{type:"radio",id:"sawtooth",name:t,value:"sawtooth",defaultChecked:!0}):Object(a.jsx)("input",{type:"radio",id:"sawtooth",name:t,value:"sawtooth"}),Object(a.jsx)("label",{htmlFor:"sawtooth",children:"Sawtooth"})]}),Object(a.jsxs)("div",{children:["square"===s[n].wave?Object(a.jsx)("input",{type:"radio",id:"square",name:t,value:"square",defaultChecked:!0}):Object(a.jsx)("input",{type:"radio",id:"square",name:t,value:"square"}),Object(a.jsx)("label",{htmlFor:"square",children:"Square"})]})]})})}var at={backgroundColor:"#9d8df1",borderRadius:"0px"},st={backgroundColor:"#41463d",borderRadius:"0px"};function it(e){var t=e.value,n=e.octave,i=e.setOctave,o=e.setChordUpdated,c=Object(s.useState)(st),l=Object(r.a)(c,2),u=l[0],d=l[1];return Object(s.useEffect)((function(){d(n===t?at:st)}),[n,t]),Object(a.jsxs)("button",{value:t,onClick:function(){i(t),o(!1)},style:u,children:["Octave ",t]})}var ot={padding:"0",backgroundColor:"#9d8df1",borderRadius:"0px"},ct={padding:"0",backgroundColor:"#41463d",borderRadius:"0px"};function rt(e){var t=e.note,n=e.chord,i=e.setChord,o=e.setPreviousChord,c=e.setChordChange,l=Object(s.useState)(ct),u=Object(r.a)(l,2),d=u[0],m=u[1];return Object(s.useEffect)((function(){m(n===t?ot:ct)}),[n,t]),Object(a.jsx)("button",{style:d,onClick:function(){n!==t?(o(n),i(t),c(!0)):(o(null),i(null))},children:t})}function lt(e,t){var n=function(e){var t=Object(s.useRef)();return Object(s.useEffect)((function(){t.current=e})),t.current}(t);Object(s.useEffect)((function(){JSON.stringify(n)!==JSON.stringify(t)&&e()}),[t,e,n])}var ut=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],dt=function(e,t){return function(e,t,n,a){return e[1]=t,e[2]=ut[ut.indexOf(t)+n],e[3]=ut[ut.indexOf(t)+7],e[2]||(e[2]=ut[ut.indexOf(t)-12+n]),e[3]||(e[3]=ut[ut.indexOf(t)-12+7]),Object.values(e).map((function(e,t,n){return n[t]=e+a}))}({1:null,2:null,3:null},e.includes("#")?e.substring(0,2):e[0],e.includes("m")?3:4,t)};function mt(e){var t=e.droneData,n=e.setDroneData,i=e.chordChange,o=e.setChordChange,c=Object(s.useState)(null),l=Object(r.a)(c,2),u=l[0],d=l[1],m=Object(s.useState)(null),b=Object(r.a)(m,2),j=b[0],p=b[1],v=Object(s.useState)(3),h=Object(r.a)(v,2),f=h[0],O=h[1],x=Object(s.useState)(!1),g=Object(r.a)(x,2),y=g[0],k=g[1];return lt((function(){var e=JSON.parse(JSON.stringify(t));e.one.pitch="".concat(e.one.pitch.slice(0,e.one.pitch.length-1)).concat(f),e.two.pitch="".concat(e.two.pitch.slice(0,e.two.pitch.length-1)).concat(f),e.three.pitch="".concat(e.three.pitch.slice(0,e.three.pitch.length-1)).concat(f),n(e)}),[f]),Object(s.useEffect)((function(){var e=function(){var e=JSON.parse(JSON.stringify(t)),a=dt(u,f);e.one.pitch=a[0],e.two.pitch=a[1],e.three.pitch=a[2],n(e),o(!0),k(!0)};(u&&!y||i)&&e()}),[u,t,f,j,n,i,y,o]),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"octave-button-container",children:[Object(a.jsx)(it,{value:1,octave:f,setOctave:O,setChordUpdated:k}),Object(a.jsx)(it,{value:2,octave:f,setOctave:O,setChordUpdated:k}),Object(a.jsx)(it,{value:3,octave:f,setOctave:O,setChordUpdated:k}),Object(a.jsx)(it,{value:4,octave:f,setOctave:O,setChordUpdated:k}),Object(a.jsx)(it,{value:5,octave:f,setOctave:O,setChordUpdated:k})]}),Object(a.jsx)("div",{className:"chord-container",children:ut.map((function(e){return Object(a.jsx)(rt,{note:e,chord:u,setChord:d,setPreviousChord:p,setChordChange:o},e)}))}),Object(a.jsx)("div",{className:"chord-container",children:ut.map((function(e){return Object(a.jsx)(rt,{note:e+"m",chord:u,setChord:d,setPreviousChord:p,setChordChange:o},e)}))})]})}function bt(e){var t=e.setFinalData,n=Object(s.useContext)(zt).droneData,i=Object(s.useContext)(zt).setDroneData,o=Object(s.useState)(!1),c=Object(r.a)(o,2),l=c[0],u=c[1],d=Object(s.useState)(!1),m=Object(r.a)(d,2),b=m[0],j=m[1],p=Object(s.useState)("Chords"),v=Object(r.a)(p,2),h=v[0],f=v[1];Object(s.useEffect)((function(){t(n)}),[n,t]);var O=function(e){var t=JSON.parse(JSON.stringify(n));console.log(t),"start"===e.target.value?(t.one.playing=!0,t.two.playing=!0,t.three.playing=!0):(t.one.playing=!1,t.two.playing=!1,t.three.playing=!1),i(t)};return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"drone-top-btns",children:[Object(a.jsx)("button",{onClick:function(){l?(u(!1),f("Chords")):(u(!0),f("Hide Chords"))},children:h}),Object(a.jsx)("button",{onClick:O,value:"start",children:"Start All \u25b6\ufe0f"}),Object(a.jsx)("button",{onClick:O,value:"stop",children:"Stop All \u23f9"})]}),l&&Object(a.jsx)(mt,{droneData:n,setDroneData:i,chordChange:b,setChordChange:j}),Object(a.jsxs)("div",{className:"drones-container",children:[Object(a.jsxs)("div",{className:"single-drone-container",children:[Object(a.jsx)(Ze,{min:"1",max:"60",defaultValue:"24",number:"one",droneData:n,setDroneData:i,chordChange:b,setChordChange:j}),Object(a.jsx)($e,{number:"one",droneData:n,setDroneData:i}),Object(a.jsx)(tt,{number:"one",droneData:n,setDroneData:i}),Object(a.jsx)(nt,{name:"drone1",number:"one",droneData:n,setDroneData:i})]}),Object(a.jsxs)("div",{className:"single-drone-container",children:[Object(a.jsx)(Ze,{min:"1",max:"60",defaultValue:"24",number:"two",droneData:n,setDroneData:i,chordChange:b,setChordChange:j}),Object(a.jsx)($e,{number:"two",droneData:n,setDroneData:i}),Object(a.jsx)(tt,{number:"two",droneData:n,setDroneData:i}),Object(a.jsx)(nt,{name:"drone2",number:"two",droneData:n,setDroneData:i})]}),Object(a.jsxs)("div",{className:"single-drone-container",children:[Object(a.jsx)(Ze,{min:"1",max:"60",defaultValue:"24",number:"three",droneData:n,setDroneData:i,chordChange:b,setChordChange:j}),Object(a.jsx)($e,{number:"three",droneData:n,setDroneData:i}),Object(a.jsx)(tt,{number:"three",droneData:n,setDroneData:i}),Object(a.jsx)(nt,{name:"drone3",number:"three",droneData:n,setDroneData:i})]})]})]})}n(68);function jt(e){var t=e.name;return Object(a.jsx)("div",{className:"noise-area-container","data-name":t,children:Object(a.jsx)("div",{className:"noise-label",children:t})})}function pt(e){var t=e.setFinalData;return Object(s.useEffect)((function(){var e=function(e){e.target.dataset&&e.target.dataset.name&&t({which:e.target.dataset.name,x:e.offsetY,y:e.offsetY,start:!0})},n=function(e){t({which:e.target.dataset.name,x:e.offsetX,y:e.offsetY})},a=function(e){t({which:e.target.dataset.name,x:e.offsetY,y:e.offsetY,stop:!0})};return document.addEventListener("pointerdown",e),document.addEventListener("pointermove",n),document.addEventListener("pointerup",a),function(){document.removeEventListener("pointerdown",e),document.removeEventListener("pointermove",n),document.removeEventListener("pointerup",a)}})),Object(a.jsxs)("div",{className:"noise-container",children:[Object(a.jsxs)("div",{className:"noise-row",children:[Object(a.jsx)(jt,{name:"Feedback"}),Object(a.jsx)(jt,{name:"Skronk"})]}),Object(a.jsxs)("div",{className:"noise-row",children:[Object(a.jsx)(jt,{name:"Oscillators"}),Object(a.jsx)(jt,{name:"Ambient Noise"})]})]})}n(125);function vt(e){var t=e.defaultDrum,n=e.number,i=e.setFinalData,o=e.sampleRate,c=Object(s.useState)(t),l=Object(r.a)(c,2),u=l[0],d=l[1],m=Object(s.useContext)(zt).percussionData,b=Object(s.useContext)(zt).setPercussionData,j=Object(s.useContext)(zt).socketId,p=function(){return JSON.parse(JSON.stringify(m))};return Object(a.jsxs)("div",{className:"individual-percussion-container",children:[Object(a.jsx)("select",{onChange:function(e){var t=p();t[n].drum=e.target.value,b(t),d(e.target.value)},defaultValue:t,children:Ot.map((function(e){return Object(a.jsx)("option",{children:e},e)}))}),Object(a.jsx)("input",{type:"range",onChange:function(e){var t=p();t[n].sampleRate=e.target.value,b(t)},min:"0.1",max:"3",step:"0.01",defaultValue:o}),Object(a.jsx)("div",{className:"hit-pad",onClick:function(){i({type:"percussion",drum:u,volume:m[n].volume,sampleRate:m[n].sampleRate,socketId:j})}})]})}function ht(e){var t=e.number,n=Object(s.useContext)(zt).loopData,i=Object(s.useContext)(zt).setLoopData;return Object(a.jsxs)("div",{className:"drum-rate-input",children:[Object(a.jsx)("select",{defaultValue:n[t].drum.drum,onChange:function(e){var t=JSON.parse(JSON.stringify(n));t[e.target.dataset.number].drum.drum=e.target.value,console.log(t),i(t)},"data-number":t,children:Ot.map((function(e){return Object(a.jsx)("option",{children:e},e)}))}),Object(a.jsx)("input",{type:"range",onChange:function(e){var a=JSON.parse(JSON.stringify(n));a[t].drum.sampleRate=e.target.value,i(a),console.log(a)},min:"0.1",max:"3",step:"0.01",defaultValue:n[t].drum.sampleRate})]})}n(126);function ft(e){var t=e.percussionData,n=e.setFinalData,i=Object(s.useContext)(zt).bpm,o=Object(s.useContext)(zt).setBpm,c=Object(s.useContext)(zt).socketId,l=Object(s.useContext)(zt).timeSignature,u=Object(s.useContext)(zt).setTimeSignature,d=Object(s.useContext)(zt).loopData,m=Object(s.useContext)(zt).loopObject,b=Object(s.useContext)(zt).setLoopData,j=Object(s.useState)(null),p=Object(r.a)(j,2),v=p[0],h=p[1],f=Object(s.useState)(!1),O=Object(r.a)(f,2),x=O[0],g=O[1];Object(s.useEffect)((function(){var e=function(e){var t=JSON.parse(JSON.stringify(d)),n=e.target.dataset;t[n.number].times[n.beat]?t[n.number].times[n.beat]=0:t[n.number].times[n.beat]=1,console.log(e.target.dataset.drumType,e.target.dataset.beat),b(t)},t=function(e){return Object(a.jsxs)("div",{className:"butt-column",children:[Object(a.jsx)(ht,{number:"one"}),Object(a.jsx)(ht,{number:"two"}),Object(a.jsx)(ht,{number:"three"}),Object(a.jsx)(ht,{number:"four"}),Object(a.jsx)(ht,{number:"five"}),Object(a.jsx)(ht,{number:"six"})]},e)};h((function(){for(var n=[],s=parseInt(l),i=0;i<4*s+1;i++)i?n.push(Object(a.jsxs)("div",{className:"butt-column",children:[Object(a.jsx)("div",{id:"drum-one-machine",className:"machine-butt","data-drum-type":d.one.drum,"data-beat":i-1,"data-number":"one",onClick:e,style:d.one.times[i-1]?{backgroundColor:"#9d8df1"}:{backgroundColor:"gray"}}),Object(a.jsx)("div",{id:"drum-two-machine",className:"machine-butt","data-drum-type":d.two.drum,"data-beat":i-1,"data-number":"two",onClick:e,style:d.two.times[i-1]?{backgroundColor:"#9d8df1"}:{backgroundColor:"gray"}}),Object(a.jsx)("div",{id:"drum-three-machine",className:"machine-butt","data-drum-type":d.three.drum,"data-beat":i-1,"data-number":"three",onClick:e,style:d.three.times[i-1]?{backgroundColor:"#9d8df1"}:{backgroundColor:"gray"}}),Object(a.jsx)("div",{id:"drum-four-machine",className:"machine-butt","data-drum-type":d.four.drum,"data-beat":i-1,"data-number":"four",onClick:e,style:d.four.times[i-1]?{backgroundColor:"#9d8df1"}:{backgroundColor:"gray"}}),Object(a.jsx)("div",{id:"drum-five-machine",className:"machine-butt","data-drum-type":d.five.drum,"data-beat":i-1,"data-number":"five",onClick:e,style:d.five.times[i-1]?{backgroundColor:"#9d8df1"}:{backgroundColor:"gray"}}),Object(a.jsx)("div",{id:"drum-six-machine",className:"machine-butt","data-drum-type":d.six.drum,"data-beat":i-1,"data-number":"six",onClick:e,style:d.six.times[i-1]?{backgroundColor:"#9d8df1"}:{backgroundColor:"gray"}})]},i)):n.push(t(i)),i%4===0&&n.push(Object(a.jsx)("div",{className:"machine-divider"},Math.random()));return n}))}),[l,t,d,b]),Object(s.useEffect)((function(){n({type:"percussion",drum:"rhythmMachine",loop:d,socketId:c,timeSignature:l,bpm:i})}),[d,n,c,l,i]);return Object(s.useEffect)((function(){x&&(b(m),g(!1))}),[l,x,m,b]),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"drum-machine",children:v}),Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(a.jsx)("button",{onClick:function(){b(m)},children:"Clear"}),Object(a.jsxs)("select",{name:"time-sig-select",onChange:function(e){u(e.target.value),console.log(l),g(!0)},defaultValue:l,children:[Object(a.jsx)("option",{value:"3",children:"3/4"}),Object(a.jsx)("option",{value:"4",children:"4/4"}),Object(a.jsx)("option",{value:"5",children:"5/4"}),Object(a.jsx)("option",{value:"7",children:"7/4"})]}),Object(a.jsxs)("label",{style:{display:"flex"},children:["BPM:",Object(a.jsx)("input",{className:"ts-fader",type:"range",min:"50",max:"200",step:"1",name:"bpm-range",onChange:function(e){o(e.target.value),console.log(i)},defaultValue:i})]})]})]})}var Ot=["snare","kick","hat","tom","ride","bowl","bugara1","bugara2","ceng","demung1","demung2","demung3","djembe1","djembe2","djembe3","jegog","kantilan","kempur","rebana","ruler","spring"];function xt(e){var t=e.setFinalData,n=Object(s.useContext)(zt).percussionData,i=Object(s.useContext)(zt).setMyInstrument,o=Object(s.useState)(!1),c=Object(r.a)(o,2),l=c[0],u=c[1];Object(s.useEffect)((function(){return i("percussion"),function(){i(null)}}),[i]),Object(s.useEffect)((function(){console.log(n)}),[n]);return Object(a.jsxs)("div",{className:"percussion-container",children:[Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(a.jsx)("button",{className:"rhythm-machine-btn",onClick:function(){u(!l)},children:l?"Hide rhythm machine":"Rhythm Machine"})}),l&&Object(a.jsx)(ft,{percussionData:n,setFinalData:t}),!l&&Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"percussion-row",children:[Object(a.jsx)(vt,{number:"one",defaultDrum:n.one.drum,setFinalData:t,sampleRate:n.one.sampleRate}),Object(a.jsx)(vt,{number:"two",defaultDrum:n.two.drum,setFinalData:t,sampleRate:n.two.sampleRate}),Object(a.jsx)(vt,{number:"three",defaultDrum:n.three.drum,setFinalData:t,sampleRate:n.three.sampleRate})]}),Object(a.jsxs)("div",{className:"percussion-row",children:[Object(a.jsx)(vt,{number:"four",defaultDrum:n.four.drum,setFinalData:t,sampleRate:n.four.sampleRate}),Object(a.jsx)(vt,{number:"five",defaultDrum:n.five.drum,setFinalData:t,sampleRate:n.five.sampleRate}),Object(a.jsx)(vt,{number:"six",defaultDrum:n.six.drum,setFinalData:t,sampleRate:n.six.sampleRate})]})]})]})}Object.freeze(Ot);var gt=[];function yt(e){var t=e.instrument,n=Object(s.useContext)(zt).sessionPin,i=Object(s.useContext)(zt).getGlobalEffects,o=Object(s.useContext)(zt).setMusicData,c=Object(s.useState)(null),l=Object(r.a)(c,2),d=l[0],m=l[1],b=Object(s.useContext)(zt).setMyInstrument,j=Object(s.useContext)(zt).socketId,p=Object(s.useState)(!1),h=Object(r.a)(p,2),f=h[0],O=h[1];gt.includes(t)||(console.log("Ho! Mounting for the first time"),Re(i(),j,t,n),gt.push(t));var x=Object(s.useCallback)((function(e){var n=JSON.parse(JSON.stringify(e));return n.socketId=j,n.instrument=t,n}),[j,t]);return Object(s.useEffect)((function(){return b({instrument:t}),function(){b(null)}}),[b,t]),Object(s.useEffect)((function(){if(d&&console.log(d.data),d){var e=x(d);o(e),m(null)}}),[d,o,x]),Object(a.jsxs)("div",{onContextMenu:function(e){e.preventDefault()},children:[Object(a.jsx)(v,{forInstrument:t}),Object(a.jsx)(u.b,{path:"/instrument/".concat(t,"/settings"),children:Object(a.jsx)(Ie,{instrument:t,setSettingsOpen:O})}),Object(a.jsx)(u.b,{path:"/instrument/".concat(t,"/effects"),children:Object(a.jsx)(Je,{instrument:t,setSettingsOpen:O})}),!f&&"drone"===t&&Object(a.jsx)(bt,{setFinalData:m}),!f&&"keyboard"===t&&Object(a.jsx)(Xe,{setFinalData:m}),!f&&"noise"===t&&Object(a.jsx)(pt,{setFinalData:m}),!f&&"percussion"===t&&Object(a.jsx)(xt,{setFinalData:m})]})}n(127);var kt={boxShadow:"0 0 10px 5px #9d8df1",backgroundColor:"#9d8df1",borderRadius:"50%"};function wt(){var e=Object(s.useContext)(zt).myInstrument;return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"instrument-links",children:[Object(a.jsx)(l.b,{to:"/instrument/keyboard",style:e&&"keyboard"===e.instrument?kt:{},children:"\ud83c\udfb9"}),Object(a.jsx)(l.b,{to:"/instrument/percussion",style:e&&"percussion"===e.instrument?kt:{},children:"\ud83e\udd41"}),Object(a.jsx)(l.b,{to:"/instrument/drone",style:e&&"drone"===e.instrument?kt:{},children:"\ud83e\udda5"}),Object(a.jsx)(l.b,{to:"/instrument/noise",style:e&&"noise"===e.instrument?kt:{},children:"\ud83d\ude49"})]}),Object(a.jsx)(u.b,{path:"/instrument/noise",children:Object(a.jsx)(yt,{instrument:"noise"})}),Object(a.jsx)(u.b,{path:"/instrument/drone",children:Object(a.jsx)(yt,{instrument:"drone"})}),Object(a.jsx)(u.b,{path:"/instrument/percussion",children:Object(a.jsx)(yt,{instrument:"percussion"})}),Object(a.jsx)(u.b,{path:"/instrument/keyboard",children:Object(a.jsx)(yt,{instrument:"keyboard"})})]})})}n(128);function St(){var e=Object(s.useContext)(zt),t=Object(s.useState)(""),n=Object(r.a)(t,2),i=n[0],o=n[1],c=Object(s.useState)(!1),l=Object(r.a)(c,2),u=l[0],d=l[1];return Object(s.useEffect)((function(){u||(De.emit("getPin"),d(!0))}),[u]),Object(s.useEffect)((function(){return De.on("getPin",(function(t,n){console.log(t),o(t.pin),e.setAll({userName:t.userName,socketId:t.socketId,sessionPin:t.pin}),e.setHost(!0),e.setUsers(n)})),function(){De.removeAllListeners("getPin")}}),[e]),Object(a.jsxs)("div",{children:[u&&Object(a.jsx)(wt,{}),!u&&Object(a.jsx)("div",{children:"'Fetching pin... Please wait\u2728'"}),Object(a.jsx)("div",{className:"pin-display",children:Object(a.jsx)("div",{children:i})})]})}n(129);function Ct(e){var t=function(t){e.keyUp(t)};return Object(a.jsx)("div",{children:Object(a.jsxs)("table",{children:[Object(a.jsx)("caption",{children:e.enteredPin}),Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{onClick:t,children:"1"}),Object(a.jsx)("td",{onClick:t,children:"2"}),Object(a.jsx)("td",{onClick:t,children:"3"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{onClick:t,children:"4"}),Object(a.jsx)("td",{onClick:t,children:"5"}),Object(a.jsx)("td",{onClick:t,children:"6"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{onClick:t,children:"7"}),Object(a.jsx)("td",{onClick:t,children:"8"}),Object(a.jsx)("td",{onClick:t,children:"9"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{onClick:t,children:"\u2190"}),Object(a.jsx)("td",{onClick:t,children:"0"}),Object(a.jsx)("td",{onClick:t,children:"OK"})]})]})]})})}function Nt(){var e=Object(s.useContext)(zt),t=Object(s.useState)(""),n=Object(r.a)(t,2),i=n[0],o=n[1];Object(s.useEffect)((function(){return De.on("joinSuccess",(function(t){e.setAll({userName:t.userName,socketId:t.socketId,sessionPin:t.pin})})),De.on("joinFailure",(function(){alert("That session doesn't seem to exist. Please try again! \ud83c\udf08")})),function(){De.removeAllListeners("joinSuccess"),De.removeAllListeners("joinFailure")}}),[e]);var c=function(e){var t;t=e.key?e.key:e.target.innerText,!isNaN(parseInt(t))&&i.length<5?o(i+t):"Backspace"===t||"\u2190"===t?o(i.substring(0,i.length-1)):"Enter"!==t&&"OK"!==t||(5===i.length?De.emit("joinSession",i):alert("Please enter a 5 digit pin"))};return Object(s.useEffect)((function(){return document.addEventListener("keyup",c),function(){document.removeEventListener("keyup",c)}})),Object(a.jsxs)("div",{className:"keypad-container",children:[Object(a.jsx)(Ct,{enteredPin:i,keyUp:c}),e.sessionPin&&Object(a.jsx)(u.a,{to:"/instrument"})]})}function Dt(){var e=Object(s.useContext)(zt).dropDownOut,t=Object(s.useContext)(zt).setDropDownOut;return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"hamburger",onClick:function(){t(!e)},children:[Object(a.jsx)("div",{className:"slice"}),Object(a.jsx)("div",{className:"slice"}),Object(a.jsx)("div",{className:"slice"})]})})}function Et(e){return Object(a.jsx)("nav",{children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{className:"home-link",to:"/",children:"\ud83c\udfbc"})}),Object(a.jsx)("li",{children:Object(a.jsx)(Dt,{})})]})})}var Tt=function(e){if(console.log(e),e.data.note){var t=g.g(e.data.note+e.data.octave).toFrequency();Ce&&(Ce.keyboard.oscillator.frequency.rampTo(t,Ce.keyboard.rampTo),Ce.keyboard.play())}},Ft=function(e){console.log("stopping note!"),Ce&&Ce.keyboard.stop()};var It=function(e){console.log("VOLUMES",e,Ce.drone.droneOne.volume.value),e[0]!==Ce.drone.droneOne.volume.value&&(Ce.drone.droneOne.volume.value=e[0]),e[1]!==Ce.drone.droneTwo.volume.value&&(Ce.drone.droneTwo.volume.value=e[1]),e[2]!==Ce.drone.droneThree.volume.value&&(Ce.drone.droneThree.volume.value=e[2])},Rt=function(e){e[0]!==Ce.drone.droneOne.type&&(Ce.drone.droneOne.type=e[0]),e[1]!==Ce.drone.droneTwo.type&&(Ce.drone.droneTwo.type=e[1]),e[2]!==Ce.drone.droneThree.type&&(Ce.drone.droneThree.type=e[2])},Pt=function(e){e.forEach((function(e,t,n){return n[t]=g.g(e).toFrequency()})),Ce.drone.droneOne.frequency.rampTo(e[0],.2),Ce.drone.droneTwo.frequency.rampTo(e[1],.2),Ce.drone.droneThree.frequency.rampTo(e[2],.2),console.log(Ce)},qt=function(e){e[0]?Ce.drone.play("One"):Ce.drone.stop("One"),e[1]?Ce.drone.play("Two"):Ce.drone.stop("Two"),e[2]?Ce.drone.play("Three"):Ce.drone.stop("Three")};function At(e){switch(console.log("DATA HERE",e),e.instrument){case"keyboard":!function(e){switch(e.type){case"play":Tt(e);break;case"stop":Ft(e);break;default:console.error("No Note!")}}(e);break;case"noise":!function(e){Ce&&(e.start?Ce.noise.start(e):e.stop?Ce.noise.stop(e):Ce.noise.play(e))}(e);break;case"percussion":!function(e){Ce&&("rhythmMachine"===e.drum?Ce.percussion.setLoop(e):(Ce.percussion.play(e.drum,e.sampleRate),console.log(Ce,e.drum)))}(e);break;case"drone":!function(e){console.log(e),Ce&&(Pt([e.one.pitch,e.two.pitch,e.three.pitch]),Rt([e.one.wave,e.two.wave,e.three.wave]),It([parseInt(e.one.volume,10),parseInt(e.two.volume,10),parseInt(e.three.volume,10)]),qt([e.one.playing,e.two.playing,e.three.playing]))}(e);break;default:console.error("No such instrument: ".concat(e.instrument))}}function Jt(e){e&&e.instrument&&At(e)}var Lt={one:{drum:"kick",volume:0,sampleRate:1},two:{drum:"snare",volume:0,sampleRate:1},three:{drum:"hat",volume:0,sampleRate:1},four:{drum:"tom",volume:0,sampleRate:1},five:{drum:"ride",volume:0,sampleRate:1},six:{drum:"bowl",volume:0,sampleRate:1}},zt=Object(s.createContext)();var Bt=function(){var e=Object(s.useState)(null),t=Object(r.a)(e,2),n=t[0],i=t[1],o=Object(s.useState)(null),c=Object(r.a)(o,2),m=c[0],b=c[1],v=Object(s.useState)(null),h=Object(r.a)(v,2),f=h[0],O=h[1],x=Object(s.useState)(null),k=Object(r.a)(x,2),w=k[0],S=k[1],C=Object(s.useState)(void 0),N=Object(r.a)(C,2),D=N[0],E=N[1],T=Object(s.useState)([]),F=Object(r.a)(T,2),I=F[0],R=F[1],P=Object(s.useState)(!1),q=Object(r.a)(P,2),A=q[0],J=q[1],L=Object(s.useState)(!1),z=Object(r.a)(L,2),B=z[0],M=z[1],H=Object(s.useState)(!1),V=Object(r.a)(H,2),G=V[0],U=V[1],K=Object(s.useState)({keyboard:{envelope:y,volume:.5,rampTo:0,wave:"sine"},drone:{envelope:y,volume:.5},theremin:{envelope:y,volume:.5},noise:{volume:.5},skronk:{volume:.5},percussion:{volume:.5}}),W=Object(r.a)(K,2),Y=W[0],X=W[1],Q=Object(s.useState)({keyboard:{vibrato:{wet:{level:.5,min:0,max:1,step:.05},depth:{level:.3,min:0,max:1,step:.05},freq:{level:8,min:0,max:20,step:.05},on:!1},pulverizer:{level:{level:1,min:1,max:16,step:1},on:!1},distortion:{wet:{level:.5,min:0,max:1,step:.05},level:{level:1,min:.05,max:3,step:.05},on:!1},delay:{wet:{level:.5,min:0,max:1,step:.05},time:{level:.2,min:0,max:1,step:.05},feedback:{level:.15,min:0,max:1,step:.05},on:!1},pitchShifter:{wet:{level:.5,min:0,max:1,step:.05},shift:{level:0,min:-36,max:36,step:1},on:!1}},drone:{vibrato:{wet:{level:.5,min:0,max:1,step:.05},depth:{level:.3,min:0,max:1,step:.05},freq:{level:8,min:0,max:20,step:.05},on:!1},pulverizer:{level:{level:1,min:1,max:16,step:1},on:!1},distortion:{wet:{level:.5,min:0,max:1,step:.05},level:{level:1,min:.05,max:3,step:.05},on:!1},delay:{wet:{level:.5,min:0,max:1,step:.05},time:{level:.2,min:0,max:1,step:.05},feedback:{level:.15,min:0,max:1,step:.05},on:!1},pitchShifter:{wet:{level:.5,min:0,max:1,step:.05},shift:{level:0,min:-36,max:36,step:1},on:!1}},theremin:{vibrato:{wet:{level:.5,min:0,max:1,step:.05},depth:{level:.3,min:0,max:1,step:.05},freq:{level:8,min:0,max:20,step:.05},on:!1},pulverizer:{level:{level:1,min:1,max:16,step:1},on:!1},distortion:{wet:{level:.5,min:0,max:1,step:.05},level:{level:1,min:.05,max:3,step:.05},on:!1},delay:{wet:{level:.5,min:0,max:1,step:.05},time:{level:.2,min:0,max:1,step:.05},feedback:{level:.15,min:0,max:1,step:.05},on:!1},pitchShifter:{wet:{level:.5,min:0,max:1,step:.05},shift:{level:0,min:-36,max:36,step:1},on:!1}},noise:{vibrato:{wet:{level:.5,min:0,max:1,step:.05},depth:{level:.3,min:0,max:1,step:.05},freq:{level:8,min:0,max:20,step:.05},on:!1},pulverizer:{level:{level:1,min:1,max:16,step:1},on:!1},distortion:{wet:{level:.5,min:0,max:1,step:.05},level:{level:1,min:.05,max:3,step:.05},on:!1},delay:{wet:{level:.5,min:0,max:1,step:.05},time:{level:.2,min:0,max:1,step:.05},feedback:{level:.15,min:0,max:1,step:.05},on:!1},pitchShifter:{wet:{level:.5,min:0,max:1,step:.05},shift:{level:0,min:-36,max:36,step:1},on:!1}},skronk:{vibrato:{wet:{level:.5,min:0,max:1,step:.05},depth:{level:.3,min:0,max:1,step:.05},freq:{level:8,min:0,max:20,step:.05},on:!1},pulverizer:{level:{level:1,min:1,max:16,step:1},on:!1},distortion:{wet:{level:.5,min:0,max:1,step:.05},level:{level:1,min:.05,max:3,step:.05},on:!1},delay:{wet:{level:.5,min:0,max:1,step:.05},time:{level:.2,min:0,max:1,step:.05},feedback:{level:.15,min:0,max:1,step:.05},on:!1},pitchShifter:{wet:{level:.5,min:0,max:1,step:.05},shift:{level:0,min:-36,max:36,step:1},on:!1}},percussion:{vibrato:{wet:{level:.5,min:0,max:1,step:.05},depth:{level:.3,min:0,max:1,step:.05},freq:{level:8,min:0,max:20,step:.05},on:!1},pulverizer:{level:{level:1,min:1,max:16,step:1},on:!1},distortion:{wet:{level:.5,min:0,max:1,step:.05},level:{level:1,min:.05,max:3,step:.05},on:!1},delay:{wet:{level:.5,min:0,max:1,step:.05},time:{level:.2,min:0,max:1,step:.05},feedback:{level:.15,min:0,max:1,step:.05},on:!1},pitchShifter:{wet:{level:.5,min:0,max:1,step:.05},shift:{level:0,min:-36,max:36,step:1},on:!1}}}),Z=Object(r.a)(Q,2),$=Z[0],_=Z[1],ee=Object(s.useState)({one:{wave:"sine",volume:"-4",pitch:"C3",playing:!1},two:{wave:"sine",volume:"-4",pitch:"C3",playing:!1},three:{wave:"sine",volume:"-4",pitch:"C3",playing:!1}}),te=Object(r.a)(ee,2),ne=te[0],ae=te[1],se=Object(s.useState)(Lt),ie=Object(r.a)(se,2),oe=ie[0],ce=ie[1],re=Object(s.useState)(!1),le=Object(r.a)(re,2),ue=le[0],de=le[1],me=Object(s.useState)("90"),be=Object(r.a)(me,2),je=be[0],pe=be[1],ve=Object(s.useState)("4"),he=Object(r.a)(ve,2),fe=he[0],Oe=he[1];Object(s.useEffect)((function(){document.addEventListener("click",(function e(){g.p.lookAhead=.3,g.r(),M(!0),window.removeEventListener("click",e,!1)}))}),[]),Object(s.useEffect)((function(){console.log("Username has been set to "+f),console.log("Socket Id was set to: "+m),console.log("Session pin was set to "+n)}),[f,m,n]),Object(s.useEffect)((function(){var e=function(e){R(e)};return De.on("newMember",e),De.on("instrumentChange",e),I.length&&console.info(I),function(){De.removeAllListeners("instrumentChange",e),De.removeAllListeners("newMember",e)}}),[I]),Object(s.useEffect)((function(){console.log("instrument changed to "+D),n&&De.emit("instrumentChange",D,n,f)}),[D,n,f]),Object(s.useEffect)((function(){if(!n){var e=function(e){b(e),Jt({data:"userUpdate",users:[{socketId:e,instrument:D}]})};return De.emit("getSocketId"),De.on("getSocketId",e),function(){De.removeAllListeners("getSocketId",e)}}}),[D,n]),Object(s.useEffect)((function(){Jt({data:"userUpdate",users:I.users})}),[I]),Object(s.useEffect)((function(){var e=function(e,t){Jt(e)};return De.on("musicData",e),function(){De.removeAllListeners("musicData",e)}})),Object(s.useEffect)((function(){var e=function(e,t,n,a){Ee(e,t,n,a,!0);var s=JSON.parse(JSON.stringify(Y));s[n]=e,X(s)};return De.on("settingsChange",e),function(){return De.removeAllListeners("settingsChange",e)}})),Object(s.useEffect)((function(){var e=function(e,t,n,a){Re(e,t,n,a,!0),_(e)};return De.on("effectsChange",e),function(){return De.removeAllListeners("settingsChange",e)}})),Object(s.useEffect)((function(){n?w&&(De.emit("musicData",w,n,f),S(null)):w&&(Jt(w),S(null))}),[w,n,f]);var xe={one:{drum:oe.one,times:new Array(4*fe)},two:{drum:oe.two,times:new Array(4*fe)},three:{drum:oe.three,times:new Array(4*fe)},four:{drum:oe.four,times:new Array(4*fe)},five:{drum:oe.five,times:new Array(4*fe)},six:{drum:oe.six,times:new Array(4*fe)}},ge=Object(s.useState)(xe),ye=Object(r.a)(ge,2),ke=ye[0],we=ye[1];return Object(a.jsx)(zt.Provider,{value:{sessionPin:n,socketId:m,userName:f,setSessionPin:i,setSocketId:b,setUserName:O,setAll:function(e){i(e.sessionPin),b(e.socketId),O(e.userName)},musicData:w,setMusicData:S,myInstrument:D,setMyInstrument:E,users:I,setUsers:R,host:A,setHost:J,globalInstrumentSettings:Y,setGlobalInstrumentSettings:X,globalEffectsSettings:$,setGlobalEffectsSettings:_,droneData:ne,setDroneData:ae,getGlobalEffects:function(){return JSON.parse(JSON.stringify($))},getGlobalSettings:function(){return JSON.parse(JSON.stringify(Y))},percussionData:oe,setPercussionData:ce,bpm:je,setBpm:pe,timeSignature:fe,setTimeSignature:Oe,loopData:ke,setLoopData:we,loopObject:xe,keyboardInfinity:ue,setKeyboardInfinity:de,dropDownOut:G,setDropDownOut:U,audioContextStarted:B},children:Object(a.jsx)(l.a,{children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(d,{sessionPin:n,sessionId:m,userName:f}),Object(a.jsx)(Et,{}),Object(a.jsx)(u.b,{path:"/",exact:!0,component:j}),Object(a.jsx)(u.b,{path:"/about",component:p}),Object(a.jsx)(u.b,{path:"/host",component:St}),Object(a.jsx)(u.b,{path:"/join",component:Nt}),Object(a.jsx)(u.b,{path:"/instrument",component:wt})]})})})},Mt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,131)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),s(e),i(e),o(e)}))};c.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(Bt,{})}),document.getElementById("root")),Mt()},32:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},42:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){}},[[130,1,2]]]);
//# sourceMappingURL=main.b25e5754.chunk.js.map